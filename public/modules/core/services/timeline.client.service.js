// Generated by CoffeeScript 1.10.0
(function() {
  angular.module('core').factory("TimelineService", [
    'WebApiService', function(WebApiService) {
      var day, timeline, timelineCache;
      timeline = [];
      day = (new Date()).getDate();
      timelineCache = [];
      return {
        getTimeline: function(dateString) {
          if (timelineCache[dateString]) {
            return timelineCache[dateString];
          } else {
            timeline = WebApiService.getTimeline(dateString);
            timelineCache[dateString] = timeline;
            return timeline;
          }
        },
        getDay: function() {
          return day;
        },
        setDay: function(d) {
          if (typeof d === 'number' && d > 0 && d < 30) {
            return day = d;
          } else {
            throw new Error('Day is not appropriate');
          }
        },
        setCounterValue: function(value) {
          if (day) {
            return timeline[day].counter = value;
          }
        }
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=timeline.client.service.js.map
