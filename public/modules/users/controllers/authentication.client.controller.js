// Generated by CoffeeScript 1.10.0
(function() {
  'use strict';
  angular.module('users').controller('AuthenticationController', [
    '$scope', '$http', '$location', '$rootScope', 'AuthService', function($scope, $http, $location, $rootScope, AuthService) {
      $scope.user = AuthService.getUser();
      if ($scope.user) {
        $location.path('/');
      }
      $scope.signup = function() {
        console.log('signup');
        return AuthService.register($scope.credentials).then(function() {
          $location.path('/today');
          return $scope.credentials = {};
        }, function(err) {
          return $scope.error = err.message;
        });
      };
      $scope.signin = function() {
        return AuthService.login($scope.credentials).then(function() {
          $location.path('/today');
          return $scope.credentials = {};
        }, function(err) {
          return $scope.error = err.message;
        });
      };
      $scope.logout = function() {
        return AuthService.logout().then(function() {
          return $location.path('/welcome');
        });
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=authentication.client.controller.js.map
