// Generated by CoffeeScript 1.10.0
(function() {
  'use strict';
  angular.module('users').controller('AuthenticationController', [
    '$scope', '$http', '$location', 'Authentication', '$rootScope', 'Auth', function($scope, $http, $location, Authentication, $rootScope, Auth) {
      $scope.authentication = Authentication;
      if ($scope.authentication.user) {
        $location.path('/');
      }
      $scope.signup = function() {
        return Auth.register($scope.credentials).then(function() {
          $location.path('/today');
          return $scope.credentials = {};
        }, function(err) {
          return $scope.error = err.message;
        });
      };
      $scope.signup = function() {};
      $scope.signin = function() {
        return Auth.login($scope.credentials).then(function() {
          $location.path('/today');
          return $scope.credentials = {};
        }, function(err) {
          return $scope.error = err.message;
        });
      };
      $scope.logout = function() {
        return Auth.logout().then(function() {
          return $location.path('/welcome');
        });
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=authentication.client.controller.js.map
